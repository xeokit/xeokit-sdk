<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>xeokit - Examples</title>

    <link href='https://fonts.googleapis.com/css?family=Exo+2:400,800,900,700,600,500|Roboto:100,300,400,500,700,900'
          rel='stylesheet' type='text/css'>

    <link href="css/styles.css" rel="stylesheet"/>
    <link href="libs/perfect-scrollbar.css" rel="stylesheet"/>
    <script src="libs/perfect-scrollbar.min.js"></script>

</head>
<body>


<div id="contents" class="container">
    <div id="list" class="content">
        <h1><a href="http://xeokit.io">xeokit</a> / Examples</h1>
    </div>
</div>

<iframe id="viewer" src="./default.html"></iframe>

<script>

    window.onload = function () {
        var div = document.getElementById('contents');
        Ps.initialize(div);
    };
    var files = {

        "Annotations": [
            "#Annotating models with 3D labels",
            "annotations_clickShowLabels",
            "annotations_hoverShowLabels",
            "annotations_clickFlyToPosition",
            "annotations_createWithMouse",
            "annotations_createAtCenterOfClickedObject",
            "annotations_externalElements",
            "annotations_occlusionDisabled",
        ],

        "Serverless BIM": [

            "#Loading IFC models from .xkt files (recommended)",
            "BIMOffline_XKT_HolterTower",
            "BIMOffline_XKT_Duplex",
            "BIMOffline_XKT_Duplex_originalIFCColors",
            "BIMOffline_XKT_Schependomlaan",
            "BIMOffline_XKT_OTCConferenceCenter",
            "BIMOffline_XKT_WestRiverSideHospital",
            "BIMOffline_XKT_includeTypes",
            "BIMOffline_XKT_objectDefaults",
            "BIMOffline_XKT_metadata_Schependomlaan",
            "BIMOffline_XKT_metadata_moveStoreys",
            "BIMOffline_XKT_authorMetadata",
            "BIMOffline_XKT_DoublePrecision_MAP",
            "BIMOffline_XKT_DoublePrecision_Lyon",

            "#Loading BIM models from glTF files",
            "BIMOffline_glTF_Duplex",
            "BIMOffline_glTF_Schependomlaan",
            "BIMOffline_glTF_OTCConferenceCenter",
            "BIMOffline_glTF_includeTypes_PlanView",
            "BIMOffline_glTF_objectDefaults",
            "BIMOffline_glTF_metadata_Schependomlaan",
            "BIMOffline_glTF_metadata_moveStoreys",
        ],

        "BIMServer": [

            "#Loading models from your own BIMServer instance",

            "BIMServer_loadYourModel",

            "#Loading models from the xeolabs BIMServer instance ",

            "BIMServer_Schependomlaan",

            "#Custom initial object states",

            "BIMServer_objectDefaults"
        ],

        "BCF": [
            "#Saving and loading BCF viewpoints, with perspective camera",
            "BCF_SaveViewpoint",
            "BCF_LoadViewpoint",
            "BCF_LoadViewpoint_withSectionPlanesPlugin",
            "BCF_LoadViewpoint_defaultInvisible",

            "BCF_SaveViewpoint_MultipleModels",
            "BCF_LoadViewpoint_MultipleModels",

            "#Orthographic camera",
            "BCF_SaveViewpoint_ortho",
            "BCF_LoadViewpoint_ortho",
        ],

        "Camera": [
            "camera_CameraPathAnimation",
            "camera_fitToModel",
            "camera_CameraFlightAnimation_projection"
        ],

        "CameraControl": [

            "#Orbiting",
            "CameraControl_orbit_Duplex",
            "CameraControl_orbit_Duplex_smallCanvas",
            "CameraControl_orbit_HolterTower",
            "CameraControl_orbit_OTCConferenceCenter",
            "CameraControl_orbit_MAP",
            "CameraControl_orbit_Lyon",
            "CameraControl_orbit_WaterLock",

            "#First-person navigation",
            "CameraControl_firstPerson_Duplex",
            "CameraControl_firstPerson_HolterTower",
            "CameraControl_firstPerson_MAP",

            "#Plan view navigation",
            "CameraControl_planView_Schependomlaan",

            "#Custom keyboard mapping",
            "CameraControl_keyMap"
        ],

        "Context Menus": [
            "ContextMenu_Canvas_TreeViewPlugin_Custom",
            "ContextMenu_dynamicItemTitles",
            "ContextMenu_subMenus"
        ],

        "Geometry": [

            "#Geometry components",
            "geometry_VBOGeometry",
            "geometry_ReadableGeometry",

            "#Geometry builders",
            "geometry_builders_buildBoxGeometry",
            "geometry_builders_buildGridGeometry",
            "geometry_builders_buildCylinderGeometry",
            "geometry_builders_buildSphereGeometry",
            "geometry_builders_buildTorusGeometry",
            "geometry_builders_buildVectorTextGeometry",

            "#Geometry loaders",
            "geometry_loaders_loadOBJGeometry",
            "geometry_loaders_load3DSGeometry"
        ],

        "Gizmos": [
            "#Gizmos",
            "gizmos_NavCubePlugin",
            "gizmos_NavCubePlugin_customColors",
            "gizmos_AxisGizmoPlugin",
            "gizmos_SectionPlanesPlugin",
            "gizmos_SectionPlanesPlugin_ortho",
            "gizmos_SectionPlanesPlugin_createWithMouse",
            "gizmos_SectionPlanesPlugin_getSnapshot",
            "gizmos_SectionPlanesPlugin_Duplex"
        ],

        "ImagePlane": [
            "ImagePlane_groundPlane",
            "ImagePlane_groundPlane_narrow",
            "ImagePlane_imageInSectionPlane"
        ],

        "Lights": [
            "#Light sources",
            "lights_AmbientLight",

            "lights_DirLight_view",
            "lights_DirLight_world",

            "lights_PointLight_view",
            "lights_PointLight_world"
        ],

        "Loaders": [

            "#Loading models from xeokit .XKT format",
            "loading_XKT_Duplex",
            "loading_XKT_Duplex_originalIFCColors",
            "loading_XKT_Duplex_transform",
            "loading_XKT_Schependomlaan",
            "loading_XKT_Schependomlaan_transform",
            "loading_XKT_OTCConferenceCenter",
            "loading_XKT_WestRiverSideHospital",
            "loading_XKT_dataSource",
            "loading_XKT_GearboxPropellorTurbine",
            "loading_XKT_APHS",
            "loading_XKT_concurrently",

            "#Examples of rounding jitter and correction using full-precision geometry",
            "loading_XKT_jitter_singlePrecision_MAP",
            "loading_XKT_jitter_fullPrecision_MAP",
            "loading_XKT_jitter_fullPrecision_MAP_annotations",

            "#Loading models from 3DXML",
            "loading_3DXML_Widget",
            "loading_3DXML_materialType_Metallic",
            "loading_3DXML_materialType_Specular",
            "loading_3DXML_materialType_Phong",
            "loading_3DXML_TreeView",

            "#Loading models from various formats",
            "loading_glTF_Duplex_transform",
            "loading_glTF_Schependomlaan",
            "loading_glTF_Schependomlaan_lowPerf",
            "loading_glTF_dataSource",
            "loading_OBJ_SportsCar",
            "loading_STL_SpurGear",

            "#Loading multiple models, from various formats",
            "loading_MultipleModels"
        ],

        "Logarithmic Depth Buffer": [

            "#Using a logarithmic depth buffer to render distant objects",

            "#Models loaded from .XKT, with and without logarithmic depth buffer",
            "logDepthBuf_XKT_Lyon",
            "logDepthBuf_XKT_Lyon_logDepthBufDisabled",

            "#Scene graph, with and without logarithmic depth buffer",
            "logDepthBuf_SceneGraph_RTC",
            "logDepthBuf_SceneGraph_RTC_logDepthBufDisabled",

            "#PerformanceModel, with and without logarithmic depth buffer",
            "logDepthBuf_PerformanceModel_batching_RTC",
            "logDepthBuf_PerformanceModel_batching_RTC_annotations",
            "logDepthBuf_PerformanceModel_batching_RTC_logDepthBufDisabled",
            "logDepthBuf_PerformanceModel_instancing_RTC",
            "logDepthBuf_PerformanceModel_instancing_RTC_logDepthBufDisabled",
        ],

        "Materials": [

            "#Material components",
            "materials_PhongMaterial",
            "materials_MetallicMaterial",
            "materials_LambertMaterial",
            "materials_EdgeMaterial",
            "materials_EmphasisMaterial",

            "#Texture maps",
            "materials_Texture",

            "#Fresnel effects",
            "materials_Fresnel"
        ],

        "Measurements": [

            "#Measuring angles",
            "measurements_angle_modelWithMeasurements",
            "measurements_angle_createWithMouse",

            "#Measuring distances",
            "measurements_distance_modelWithMeasurements",
            "measurements_distance_createWithMouse",
            "measurements_distance_unitsAndScale"
        ],

        "Mementos": [

            "#Saving and restoring object states",
            "mementos_ObjectsMemento"
        ],

        "Performance": [
            "#Accelerating performance",
            "performance_ViewCullPlugin",
            "performance_ViewCullPlugin_CameraPathAnimation"
        ],

        "Picking": [
            "#Selecting scene content",
            "picking_canvas_mesh_colorize",
            "picking_canvas_mesh_colorize_click",
            "picking_canvas_mesh_opacity",
            "picking_canvas_mesh_highlight",
            "picking_canvas_mesh_highlight_transparent",
            "picking_canvas_mesh_select",
            "picking_canvas_mesh_select_transparent",
            "picking_canvas_mesh_xray",
            "picking_canvas_mesh_xray_transparent",
            "picking_canvas_surface",

            "picking_canvas_click",

            "picking_ray_mesh",
            "picking_ray_surface",
            "picking_ray_matrix",

            "picking_setObjectsPickable"
        ],

        "Posteffects": [
            "#Scalable Ambient Obscurance",
            "postEffects_SAO_Schependomlaan",
            "postEffects_SAO_OTCConferenceCenter",
            "postEffects_SAO_Duplex"
        ],

        "Scene Representations": [

            "#Standard representation",
            "sceneRepresentation_SceneGraph",
            "sceneRepresentation_SceneGraph_ReadableGeometry",
            "sceneRepresentation_SceneGraph_VBOGeometry",
            "sceneRepresentation_SceneGraph_metadata",
            "sceneRepresentation_SceneGraph_rtcCenter",

            "#High-performance representation",
            "sceneRepresentation_PerformanceModel_instancing",
            "sceneRepresentation_PerformanceModel_instancing_transform",
            "sceneRepresentation_PerformanceModel_instancing_benchmark",
            "sceneRepresentation_PerformanceModel_instancing_rtcCenter",
            "sceneRepresentation_PerformanceModel_batching",
            "sceneRepresentation_PerformanceModel_batching_annotations",
            "sceneRepresentation_PerformanceModel_batching_transform",
            "sceneRepresentation_PerformanceModel_batching_benchmark",
            "sceneRepresentation_PerformanceModel_batching_rtcCenter",
            "sceneRepresentation_PerformanceModel_metadata",

            "#Lighting tests",
            "sceneRepresentation_lightingTest_viewDirLights",
            "sceneRepresentation_lightingTest_worldDirLights",
            "sceneRepresentation_lightingTest_viewPointLights",
            "sceneRepresentation_lightingTest_worldPointLights"
        ],

        "Screenshots": [
            "screenshots_png_getSnapshot",
            "gizmos_SectionPlanesPlugin_getSnapshot"
        ],

        "Section Planes": [
            "gizmos_SectionPlanesPlugin",
            "gizmos_SectionPlanesPlugin_createWithMouse",
            "gizmos_SectionPlanesPlugin_getSnapshot",
            "gizmos_SectionPlanesPlugin_flipSectionPlanes",
            "ImagePlane_imageInSectionPlane"
        ],

        "Spinner": [
            "spinner_custom"
        ],

        "Storey Views": [

            "#Setting up 3D views of storeys",

            "storeyViews_StoreyViewsPlugin_showStoreyObjects",
            "storeyViews_StoreyViewsPlugin_gotoStoreyCamera",
            "storeyViews_StoreyViewsPlugin_gotoStoreyCamera2",

            "#Creating interactive 2D plan views",

            "storeyViews_StoreyViewsPlugin_createStoreyMap",
            "storeyViews_StoreyViewsPlugin_createStoreyMap_height",
            "storeyViews_StoreyViewsPlugin_pickStoreyMap",

            "#UX Recipes",

            "storeyViews_StoreyViewsPlugin_recipe1",
            "storeyViews_StoreyViewsPlugin_recipe2",
            "storeyViews_StoreyViewsPlugin_recipe3",
            "storeyViews_StoreyViewsPlugin_recipe4"
        ],

        "Techniques": [
            "techniques_nonInteractiveQuality",
            "techniques_findComplexEntities"
        ],

        "Tree Views": [
            "TreeViewPlugin_Containment",
            "TreeViewPlugin_Containment_MultipleModels",
            "TreeViewPlugin_Types",
            "TreeViewPlugin_Storeys",
            "TreeViewPlugin_options_rootName",
            "loading_3DXML_TreeView"
        ],

        "Viewer": [
            "viewer_createDestroyRepeat",
            "viewer_createDestroyRepeatNewCanvas",
            "viewer_disableAntialiasing"
        ]
    };

    //

    var list = document.getElementById('list');
    var viewer = document.getElementById('viewer');

    var container = document.createElement('div');
    list.appendChild(container);

    var sourceButton = document.createElement('div');
    sourceButton.id = 'sourceButton';
    sourceButton.textContent = 'View source';

    sourceButton.addEventListener('click', function (event) {
        window.open('https://github.com/xeokit/xeokit-sdk/blob/master/examples/' + selected + '.html');
    }, false);

    sourceButton.style.display = 'none';
    document.body.appendChild(sourceButton);

    var catDivs = {};
    var divs = {};
    var selected = null;
    var index = 1;
    var indexStr;

    // Table of contents
    var div = document.createElement('h2');
    div.textContent = "Contents";

    container.appendChild(div);
    container.appendChild(document.createElement('hr'));

    for (var key in files) {
        var section = files[key];
        var div = document.createElement('div');
        div.className = 'link';
        indexStr = "" + index++ + ".";
        for (var i = indexStr.length, len = 5; i < len; i++) {
            indexStr += ".";
        }
        div.textContent = indexStr + key;
        div.addEventListener('click', (function () {
            var k = key;
            return function () {
                catDivs[k].scrollIntoView();
            }
        })());
        container.appendChild(div);
    }

    container.appendChild(document.createElement('hr'));

    _index = 1;

    var clickedFile = null;

    for (var key in files) {
        var section = files[key];
        var div = document.createElement('h2');
        div.textContent = _index++ + ". " + key;
        container.appendChild(div);
        catDivs[key] = div;
        for (var i = 0; i < section.length; i++) {
            var file = section[i];
            if (file.charAt(0) == "#") {
                var div = document.createElement('div');
                div.textContent = "// " + file.substring(1);
                //div.textContent = "";
                div.className = (i == 0 ? 'infoFirst' : 'info');
                container.appendChild(div);
                continue;
            }
            (function (file) {
                var name = file.split('_');
                name.shift();
                name = name.join(' / ');
                var div = document.createElement('div');
                div.className = 'link';
                div.textContent = name; // expandCamel(name);
                div.addEventListener('click', function () {
                    clickedFile = file;
                    window.location.hash = "#" + file;
                });
                container.appendChild(div);
                divs[file] = div;
            })(file);
        }
    }

    function expandCamel(str) {
        return str.replace(/([A-Z])/g, function ($1) {
            return " " + $1.toLowerCase();
        });
    }

    var load = function (file) {

        if (file.indexOf(".html", file.length - 5) !== -1) {
            window.location = "./" + file + ".html";
            return;
        }

        if (selected !== null) divs[selected].className = 'link';
        divs[file].className = 'link selected';
        window.location.hash = file;
        viewer.src = file + '.html';
        viewer.focus();
        sourceButton.style.display = '';
        selected = file;
        if (clickedFile !== file) {
            scrollIntoView(divs[file]);
        }
        clickedFile = null;
    };

    if (window.location.hash !== '') {
        load(window.location.hash.substring(1));
    }

    var hash = window.location.hash;

    window.setInterval(function () {
        if (window.location.hash != hash) {
            load(window.location.hash.substring(1));
            hash = window.location.hash;
        }
    }, 200);

    function scrollIntoView(div) {
        document.getElementById("contents").scrollTop = documentOffsetTop(div) - (window.innerHeight / 6);
    }

    function documentOffsetTop(div) {
        return div.offsetTop + (div.offsetParent ? documentOffsetTop(div.offsetParent) : 0);
    }

</script>

</body>
</html>